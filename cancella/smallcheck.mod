/* ========================================================================= */
/* Rudimentary "small test" implementation.                                  */
/* ========================================================================= */

/* ------------------------------------------------------------------------- */
/* small_nat                                                                 */
/* ------------------------------------------------------------------------- */

small_nat N 0 :- N > 0.
small_nat N M :- N > 1, N' is N - 1, small_nat N' M', M is M' + 1.

/* ------------------------------------------------------------------------- */
/* small_list                                                                */
/* ------------------------------------------------------------------------- */

small_list [X|_] N X :- N > 0.
small_list [_|Xs] N Y :- N > 1, N' is N - 1, small_list Xs N' Y.

/* ------------------------------------------------------------------------- */
/* small_pair                                                                */
/* ------------------------------------------------------------------------- */

small_pair P Q F N Z :- small_nat N N1, N2 is N - N1, P N1 X, Q N2 Y, F X Y Z.

mkPair X Y (pair X Y).

small_pair_test N X :-
  small_pair (small_list [1,2,3]) small_nat mkPair N X.